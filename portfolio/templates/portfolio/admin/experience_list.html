{% extends 'portfolio/admin/admin_base.html' %}

{% block header_title %}Experience{% endblock %}

{% block content %}
<div class="action-bar" style="margin-bottom: 30px; display: flex; justify-content: flex-end;">
    <a href="{% url 'experience_create' %}" class="btn btn-primary"><i class="fas fa-plus"></i> Add New Experience</a>
</div>

<div class="table-container" style="background: var(--glass-bg); border-radius: 15px; overflow: hidden; border: 1px solid var(--glass-border);">
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: rgba(15, 23, 42, 0.6); text-align: left;">
                <th style="padding: 15px 25px; color: var(--primary-color);">Role</th>
                <th style="padding: 15px 25px; color: var(--primary-color);">Company</th>
                <th style="padding: 15px 25px; color: var(--primary-color);">Duration</th>
                <th style="padding: 15px 25px; color: var(--primary-color);">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for experience in experiences %}
            <tr style="border-bottom: 1px solid var(--glass-border); transition: background 0.3s;" onmouseover="this.style.background='rgba(30, 41, 59, 0.5)'" onmouseout="this.style.background='transparent'">
                <td style="padding: 15px 25px; font-weight: 500;">
                    {{ experience.role }}
                    {% if experience.is_current %}
                    <span style="display: inline-block; margin-left: 10px; font-size: 0.7rem; background: rgba(56, 189, 248, 0.1); color: var(--primary-color); padding: 2px 8px; border-radius: 10px;">Current</span>
                    {% endif %}
                </td>
                <td style="padding: 15px 25px;">{{ experience.company }}</td>
                <td style="padding: 15px 25px; color: #94a3b8;">
                    {{ experience.start_date|date:"F Y" }} - 
                    {% if experience.is_current %}
                    Present
                    {% else %}
                    {{ experience.end_date|date:"F Y" }}
                    {% endif %}
                </td>
                <td style="padding: 15px 25px;">
                    <a href="{% url 'experience_update' experience.pk %}" style="color: var(--secondary-color); margin-right: 15px;" title="Edit"><i class="fas fa-edit"></i></a>
                    <a href="{% url 'experience_delete' experience.pk %}" style="color: #ef4444;" title="Delete"><i class="fas fa-trash-alt"></i></a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="padding: 30px; text-align: center; color: #94a3b8;">No experience records found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
